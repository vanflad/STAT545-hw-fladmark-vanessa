hw05
================

Homework 5
==========

October 20th, 2017
------------------

### Factor management

First, load the necessary libraries, with suppresed messages:

``` r
suppressPackageStartupMessages(library(tidyverse))
#suppress annoying start up message
library(gapminder)
#working with this data for this homework
library(forcats)
#installed with tidyverse but needs to be loaded separately
```

Filter the gapminder data to remove observations associated with the continent of Oceania:

``` r
newgap <- filter(gapminder, continent != "Oceania")
#filter data
which(newgap$continent=="Oceania")
```

    ## integer(0)

``` r
#check Oceania values
levels(newgap$continent)
```

    ## [1] "Africa"   "Americas" "Asia"     "Europe"   "Oceania"

``` r
#check the levels
```

Filter out Oceania, then check to see if it worked, we can see there are now 0 Oceania values but it remains a factor level.

Note: I assigned the filtered gapminder data to a new dataframe "newgap" to assist in the comparisons between newgap and the original gapminder dataset later on in this assignment.

For now, let's remove the unused factor level Oceania:

``` r
newgap$continent <- as.character(newgap$continent)
#change to character
newgap$continent <- as.factor(newgap$continent)
#change back to factor
levels(newgap$continent)
```

    ## [1] "Africa"   "Americas" "Asia"     "Europe"

``` r
#check if it worked
```

In my own data analysis I've dropped unusued levels by changing the factor to a character, where "Oceania" is not found and then changing it back to a factor to attain the new levels. But as with all data manipulation and coding problems, there are other solutions that can be used, such as droplevels() or fct\_drop().

Provide concrete information on the data before and after removing these rows and Oceania; address the number of rows and the levels of the affected factors:

``` r
nrow(gapminder)
```

    ## [1] 1704

``` r
#how many rows in original
nrow(newgap)
```

    ## [1] 1680

``` r
#how many rows once modified
nrow(gapminder) - nrow(newgap)
```

    ## [1] 24

``` r
#how many rows were deleted
nlevels(gapminder$continent)
```

    ## [1] 5

``` r
#number of levels in original
nlevels(newgap$continent)
```

    ## [1] 4

``` r
#number of levels once modified
```

Comparing the original and the filtered data we see that there are 24 rows of Oceania values that were removed. (And even though I could have mentally figured out that 1704-1680=24, I still decided to make R do the hard work for us!) Also we see that we went from 5 levels to 4, with the continents Americas, Asia, Africa and Europe remaining after the removal of Oceania.

Reorder the levels of country or continent. Use the forcats package to change the order of the factor levels, based on a principled summary of one of the quantitative variables. Consider experimenting with a summary statistic beyond the most basic choice of the median:

``` r
maxgap <- newgap %>%
  group_by(continent) %>%
  summarize(maxlife=max(lifeExp)) %>%
  arrange(desc(maxlife))
knitr::kable(maxgap, format="markdown")
```

| continent |  maxlife|
|:----------|--------:|
| Asia      |   82.603|
| Europe    |   81.757|
| Americas  |   80.653|
| Africa    |   76.442|

I will reorder my factors according to which continents have the highest life expectancy, i.e. who lives the longest.

### File I/O

### Visualization design

### Writing figures to file
